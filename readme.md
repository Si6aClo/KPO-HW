# Микросервисное приложение по продаже билетов

Запуск приложения осуществляется с помощью утилиты docker-compose.
Чтобы запустить приложение в папке `KPO-HW` открыть терминал и написать команду `docker-compose up --build`.

## Архитектура
Приложение состоит из 2-х микросервисов - микросервис по регистрации и аутентификации пользователей `auth` 
и микросервис по продаже и обработке билетов `tickets`. Для каждого микросервиса в `docker-compose` поднимается своя база данных.

### Каждое приложение имеет похожую внутреннюю архитектуру:
#### model
Папка с моделями базы данных, с помощью которых микросервис взаимодействует с базой данных.
#### repository
Папка с репозиториями, обертками над моделями для работы с данными.
#### service
Папка с сервисами, каждый сервис содержит логику работы с данными.
#### controller
Папка с контроллерами, в каждом приложении всего один контроллер, отвечающий за формат входных и выходных данных в `api` и маршрутизацию.
#### dto
Data-transfer-object, классы для удобного трансфера данных.
#### exception
Папка со специальными ошибками для этого микросервиса.
#### Уникально в микросервисе `tickets` есть отдельный компонент `OrdersProcessor`, который отвечает за периодическую обработку билетов.

## Тестирование
Для тестирования в приложении есть swagger, для получения доступа есть 2 ссылки: \
http://localhost:8082/swagger-ui/index.html - ссылка на swagger микросервиса `tickets` \
http://localhost:8081/swagger-ui/index.html - ссылка на swagger микросервиса `auth`

## Хендлеры
### Auth
Post `auth/register` \
Post `auth/login` \
Get `auth/info`
### Tickets
Post `tickets/create` \
Get `tickets/get/{orderId}`

